{% extends 'shared/base.html' %}
{% load static %}
{% load humanize %}


{% block title %}My Orders - AgriHub Philippines{% endblock %}


{% block content %}

<link rel="stylesheet" href="{% static 'css/orders.css' %}">

<main>
    <div class="main-content">
        <div class="user-tab-left">
            
            <!-- Profile Section -->
            <div class="user-profile">
                <div class="profile-pic">
                    <span>P</span> <!-- First letter of name -->
                </div>
                <div class="profile-info">
                    <p class="username">Perceluna</p>
                    <a href="#" class="edit-profile">
                        <!-- Edit (pencil) SVG -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" 
                            fill="currentColor" viewBox="0 0 24 24">
                            <path d="M4 21v-3.586l12.293-12.293 
                                    3.586 3.586L7.586 21H4zm14.707-11.707l-3-3 
                                    1.586-1.586a1 1 0 011.414 0l1.586 
                                    1.586a1 1 0 010 1.414L18.707 9.293z"/>
                        </svg>
                        Edit Profile
                    </a>
                </div>
            </div>

            <!-- Navigation Links -->
            <nav class="user-nav">
                <a href="#" class="nav-link">
                    <!-- Account SVG -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" 
                        fill="none" stroke="currentColor" stroke-width="2" 
                        viewBox="0 0 24 24">
                        <circle cx="12" cy="7" r="4"/>
                        <path d="M5.5 21a8.38 8.38 0 0113 0"/>
                    </svg>
                    Account
                </a>
                <a href="#" class="nav-link active">
                    <!-- Orders SVG -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" 
                        fill="none" stroke="currentColor" stroke-width="2" 
                        viewBox="0 0 24 24">
                        <path d="M3 6h18M3 12h18M3 18h18"/>
                    </svg>
                    My Orders
                </a>
            </nav>



        </div>

        <div class="order-history-right">
             <!-- Navigation Tabs -->
            <div class="order-tabs">
                <button class="tab active" data-tab="all">All (n)</button>
                <button class="tab" data-tab="processing">Processing (n) </button>
                <button class="tab" data-tab="to-ship">To Ship (n) </button>
                <button class="tab" data-tab="to-receive">To Receive (n) </button>
                <button class="tab" data-tab="completed">Completed (n) </button>
                <button class="tab" data-tab="cancelled">Cancelled (n) </button>
            </div>

            <!-- Orders Page Search -->
            <form class="orders-search-bar" autocomplete="off">
                <input 
                    class="orders-search__input" 
                    type="text" 
                    placeholder="Search by Order ID, Product, or Date..."
                    maxlength="30" 
                    id="ordersSearchInput"
                >
            </form>


            
            <!-- Orders Content -->
            <div class="orders-container">
                <div class="orders-list" id="all">
                    
                    <!--Cards (Same styling across containers)-->
                    <div class="order-card">
                        <!-- Order details would go here (product info, status, etc.) -->
                        <div class="order-card-top-section">
                            <h3>September 6, 2025 – 6:32 PM</h3>
                            <span class="order-card-order-status">Processing</span>
                        </div>

                        <div class="order-card-middle-section">
                            <h3>Transaction ID: TID0001</h3>
                        </div>

                        <div class="order-card-total-price">
                            <p class="order-card-product-price">Total: PHP 810.00</p>
                        </div>

                        <div class="order-card-item-list">

                            <!-- Header row -->
                            <div class="orders-product-header">
                                <div class="product-col">Product</div>
                                <div class="price-col">Price</div>
                                <div class="qty-col">Quantity</div>
                                <div class="subtotal-col">Subtotal</div>
                            </div>

                            <!--One item-->
                             <div class="orders-product-row">
                                 <div class="product-col product-info">
                                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Chou-fleur_02.jpg/250px-Chou-fleur_02.jpg" alt="Product" class="product-img">
                                    <span class="product-name">Cauliflower</span>
                                 </div>

                                <div class="price-col">₱90.00</div>
                                <div class="qty-col">x3</div>
                                <div class="subtotal-col">₱270.00</div>
                             </div>

                             <!--One item-->
                             <div class="orders-product-row">
                                 <div class="product-col product-info">
                                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Chou-fleur_02.jpg/250px-Chou-fleur_02.jpg" alt="Product" class="product-img">
                                    <span class="product-name">Cauliflower</span>
                                 </div>

                                <div class="price-col">₱90.00</div>
                                <div class="qty-col">x3</div>
                                <div class="subtotal-col">₱270.00</div>
                             </div>

                             <!--One item-->
                             <div class="orders-product-row">
                                 <div class="product-col product-info">
                                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Chou-fleur_02.jpg/250px-Chou-fleur_02.jpg" alt="Product" class="product-img">
                                    <span class="product-name">Cauliflower</span>
                                 </div>

                                <div class="price-col">₱90.00</div>
                                <div class="qty-col">x3</div>
                                <div class="subtotal-col">₱270.00</div>
                             </div>
                        </div>

                        <!--Expand-->
                        <div class="show-more-products-section">
                            <button class="show-more-products-btn">
                                <!-- SVG plus icon -->
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M16 11L12 15L8 11M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
                                <span>Show more</span>
                            </button>
                        </div>

                        <!-- Order Action Buttons -->
                        <div class="order-card-buttons">
                            <button class="order-btn order-received">Order Received</button>
                            <button class="order-btn cancel-order">Cancel Order</button>
                            <button class="order-btn request-refund">Request Return/Refund</button>
                            <button class="order-btn buy-again">Buy Again</button>
                            <button class="order-btn show-details">Show Details</button>
                            <button class="order-btn contact-seller">Contact Seller</button>
                        </div>

                    </div>



                    <!-- TEMPORARY SECOND ONE-->
                     <!--Cards (Same styling across containers)-->
                    <div class="order-card">
                        <!-- Order details would go here (product info, status, etc.) -->
                        <div class="order-card-top-section">
                            <h3>September 6, 2025 – 6:32 PM</h3>
                            <span class="order-card-order-status">Delivered</span>
                        </div>

                        <div class="order-card-middle-section">
                            <h3>Transaction ID: TID0001</h3>
                        </div>

                        <div class="order-card-total-price">
                            <p class="order-card-product-price">Total: PHP 810.00</p>
                        </div>

                        <div class="order-card-item-list">

                            <!-- Header row -->
                            <div class="orders-product-header">
                                <div class="product-col">Product</div>
                                <div class="price-col">Price</div>
                                <div class="qty-col">Quantity</div>
                                <div class="subtotal-col">Subtotal</div>
                            </div>

                            <!--One item-->
                             <div class="orders-product-row">
                                 <div class="product-col product-info">
                                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Chou-fleur_02.jpg/250px-Chou-fleur_02.jpg" alt="Product" class="product-img">
                                    <span class="product-name">Cauliflower</span>
                                 </div>

                                <div class="price-col">₱90.00</div>
                                <div class="qty-col">x3</div>
                                <div class="subtotal-col">₱270.00</div>
                             </div>

                             <!--One item-->
                             <div class="orders-product-row">
                                 <div class="product-col product-info">
                                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Chou-fleur_02.jpg/250px-Chou-fleur_02.jpg" alt="Product" class="product-img">
                                    <span class="product-name">Cauliflower</span>
                                 </div>

                                <div class="price-col">₱90.00</div>
                                <div class="qty-col">x3</div>
                                <div class="subtotal-col">₱270.00</div>
                             </div>
                        </div>

                        <!--Expand won't show since it's only two products-->
                        <!--
                        <div class="show-more-products-section">
                            <button class="show-more-products-btn">
                                
                                <-- SVG plus icon --
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M16 11L12 15L8 11M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
                                <span>Show more</span>
                            </button>
                        </div>
                        -->
                        
                        <!-- Order Action Buttons -->
                        <div class="order-card-buttons">
                            <button class="order-btn order-received">Order Received</button>
                            <button class="order-btn cancel-order">Cancel Order</button>
                            <button class="order-btn request-refund">Request Return/Refund</button>
                            <button class="order-btn buy-again">Buy Again</button>
                            <button class="order-btn show-details">Show Details</button>
                            <button class="order-btn contact-seller">Contact Seller</button>
                        </div>

                    </div>





                </div>

                <div class="orders-list hidden" id="processing">
                    <p>Processing orders will show here.</p>
                </div>

                <div class="orders-list hidden" id="to-ship">
                    <p>Orders to ship will show here.</p>
                </div>

                <div class="orders-list hidden" id="to-receive">
                    <p>Orders to receive will show here.</p>
                </div>

                <div class="orders-list hidden" id="completed">
                    <p>Completed orders will show here.</p>
                </div>

                <div class="orders-list hidden" id="cancelled">
                    <p>Cancelled orders will show here.</p>
                </div>
            </div>






        </div>
    </div>
</main>


<!-- === Scripts === -->

<!-- Script for Toggling Containers -->
<script>
document.querySelectorAll(".order-tabs .tab").forEach(tab => {
    tab.addEventListener("click", () => {
        // Remove active class from all tabs
        document.querySelectorAll(".order-tabs .tab").forEach(t => t.classList.remove("active"));
        tab.classList.add("active");

        // Hide all order lists
        document.querySelectorAll(".orders-list").forEach(list => list.classList.add("hidden"));

        // Show selected list
        const target = tab.getAttribute("data-tab");
        document.getElementById(target).classList.remove("hidden");
    });
});
</script>



{% endblock %}